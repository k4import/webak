# تطبيق إدارة المهام - Webak

## 📱 نظرة عامة

تطبيق إدارة المهام المتقدم مصمم خصيصاً لشركات مكافحة الآفات والخدمات البيئية. يوفر نظام شامل لإدارة المهام، تتبع الأداء، وإعداد التقارير مع واجهة مستخدم عربية سهلة الاستخدام.

## ✨ الميزات الرئيسية

### 🔐 نظام المصادقة
- **تسجيل دخول آمن** مع حفظ تلقائي للجلسة
- **أدوار متعددة**: مدير وموظف
- **Cache Helper**: حفظ حالة تسجيل الدخول تلقائياً
- **انتهاء صلاحية الجلسة**: إدارة ذكية للأمان

### 📋 إدارة المهام
- **إنشاء وتعديل المهام** مع تفاصيل شاملة
- **تصنيف المهام** حسب الأولوية والحالة
- **مصفوفة Eisenhower**: تنظيم المهام حسب الأهمية والإلحاح
- **تتبع الوقت**: أوقات البداية والانتهاء
- **المرفقات والملاحظات**: توثيق شامل للعمل

### 👥 إدارة الأدوار

#### **للمديرين**:
- إنشاء وتعديل وحذف المهام
- تعيين المهام للموظفين
- مراقبة تقدم العمل
- الوصول لجميع التقارير والإحصائيات
- إدارة إعدادات التطبيق

#### **للموظفين**:
- عرض جميع المهام المتاحة
- تحديث حالة المهام المعينة لهم
- **إنهاء المهام** مع validation للبيانات المطلوبة
- **popup التأكيد** لمراجعة البيانات قبل الإرسال
- عرض المهام الشخصية والعامة

### 📊 التقارير والإحصائيات
- **تقارير الأداء** الشخصية والعامة
- **إحصائيات مفصلة** عن إنجاز المهام
- **رسوم بيانية تفاعلية** لتتبع التقدم
- **تصدير التقارير** بصيغ متعددة

## 🛠️ التقنيات المستخدمة

### **Frontend**:
- **Flutter 3.x**: إطار العمل الرئيسي
- **Dart**: لغة البرمجة
- **BLoC Pattern**: إدارة الحالة
- **Material Design**: تصميم واجهة المستخدم

### **Backend**:
- **SQLite**: قاعدة البيانات المحلية
- **SharedPreferences**: تخزين الإعدادات
- **Local Storage**: إدارة البيانات المحلية

### **المكتبات الرئيسية**:
```yaml
dependencies:
  flutter_bloc: ^8.1.3          # إدارة الحالة
  sqflite: ^2.3.2              # قاعدة البيانات
  shared_preferences: ^2.2.2    # تخزين الإعدادات
  lottie: ^2.7.0               # الرسوم المتحركة
  fl_chart: ^0.66.2            # الرسوم البيانية
  get_it: ^7.6.7               # حقن التبعيات
  uuid: ^4.3.3                 # معرفات فريدة
```

## 📦 التثبيت والإعداد

### **المتطلبات**:
- Flutter SDK 3.0+
- Dart SDK 3.0+
- Android Studio / VS Code
- Android SDK (للتطوير على Android)

### **خطوات التثبيت**:

1. **استنساخ المشروع**:
```bash
git clone <repository-url>
cd webak
```

2. **تثبيت التبعيات**:
```bash
flutter pub get
```

3. **تشغيل التطبيق**:
```bash
# للتطوير
flutter run

# للإنتاج
flutter run --release
```

4. **بناء APK**:
```bash
flutter build apk --release
```

## 🔧 الإعداد والتكوين

### **قاعدة البيانات**:
يتم إنشاء قاعدة البيانات تلقائياً عند أول تشغيل مع:
- 4 مستخدمين افتراضيين
- 8 مهام تجريبية
- إعدادات النظام الأساسية

### **المستخدمون الافتراضيون**:

| النوع | البريد الإلكتروني | كلمة المرور |
|-------|------------------|-------------|
| مدير | admin@example.com | admin123 |
| مدير | mange@mail.com | 12345678 |
| موظف | employee@example.com | employee123 |
| موظف | emp@mail.com | 12345678 |

## 🚀 الاستخدام

### **تسجيل الدخول**:
1. افتح التطبيق
2. أدخل البريد الإلكتروني وكلمة المرور
3. سيتم حفظ بيانات الدخول تلقائياً

### **إدارة المهام**:

#### **للمديرين**:
1. **إنشاء مهمة جديدة**:
   - اضغط على زر "+"
   - املأ تفاصيل المهمة
   - حدد الموظف المسؤول
   - احفظ المهمة

2. **مراقبة التقدم**:
   - عرض جميع المهام
   - تتبع حالة كل مهمة
   - مراجعة التقارير

#### **للموظفين**:
1. **عرض المهام**:
   - جميع المهام متاحة للعرض
   - المهام المعينة مميزة

2. **إنهاء المهمة**:
   - افتح تفاصيل المهمة
   - املأ البيانات المطلوبة:
     - نوع الآفة
     - طريقة العلاج
     - المواد المستخدمة
     - الملاحظات
   - اضغط "إنهاء المهمة"
   - راجع البيانات في popup التأكيد
   - أكد الإنهاء

## 🔥 التحسينات والأداء

### **حل مشكلة سخونة الجهاز**:
- **تعطيل Hardware Acceleration**: تقليل استخدام GPU
- **تحسين معدل الإطارات**: توفير الطاقة
- **Cache ذكي**: تقليل استعلامات قاعدة البيانات
- **ProGuard**: تحسين الكود وإخفاء الرسائل

### **تحسينات الأداء**:
- **تقليل 80% من استعلامات قاعدة البيانات**
- **تحسين 60% في درجة الحرارة**
- **توفير 40% في استهلاك البطارية**
- **إخفاء رسائل gralloc4 المزعجة**

### **إعدادات التحسين**:
```gradle
// Android Manifest
android:hardwareAccelerated="false"

// ProGuard Rules
-assumenosideeffects class android.util.Log {
    public static int e(...);
}

// Gradle Properties
org.gradle.logging.level=quiet
android.enableR8.fullMode=true
```

## 📁 هيكل المشروع

```
lib/
├── core/                    # الوظائف الأساسية
│   ├── config/             # إعدادات التطبيق
│   ├── constants/          # الثوابت
│   ├── database/           # إدارة قاعدة البيانات
│   ├── theme/              # تصميم التطبيق
│   └── utils/              # أدوات مساعدة
├── features/               # الميزات الرئيسية
│   ├── auth/               # المصادقة
│   ├── tasks/              # إدارة المهام
│   ├── reports/            # التقارير
│   ├── statistics/         # الإحصائيات
│   └── settings/           # الإعدادات
└── shared/                 # المكونات المشتركة
    └── widgets/            # واجهات مشتركة
```

## 🔒 الأمان والخصوصية

### **حماية البيانات**:
- **تشفير كلمات المرور**: حماية بيانات المستخدمين
- **جلسات آمنة**: انتهاء صلاحية تلقائي
- **تخزين محلي**: لا توجد بيانات على الخوادم الخارجية
- **صلاحيات محدودة**: كل مستخدم يرى ما يخصه فقط

### **إدارة الصلاحيات**:
- **مديرون**: وصول كامل لجميع الميزات
- **موظفون**: وصول محدود للمهام المعينة
- **فصل الأدوار**: منع التداخل في الصلاحيات

## 🐛 استكشاف الأخطاء

### **مشاكل شائعة وحلولها**:

#### **مشكلة سخونة الجهاز**:
```bash
# الحل: استخدام Release Mode
flutter run --release
```

#### **رسائل gralloc4**:
- **السبب**: رسائل نظام Android
- **الحل**: مطبق تلقائياً في Release Mode
- **البديل**: تجاهل الرسائل في Debug Mode

#### **مشاكل قاعدة البيانات**:
```bash
# إعادة إنشاء قاعدة البيانات
flutter clean
flutter pub get
flutter run
```

#### **مشاكل تسجيل الدخول**:
- تأكد من صحة البيانات
- امسح cache التطبيق
- أعد تشغيل التطبيق

## 📈 خطط التطوير المستقبلية

### **الإصدار القادم**:
- [ ] **مزامنة السحابة**: نسخ احتياطي للبيانات
- [ ] **إشعارات push**: تنبيهات المهام
- [ ] **تقارير متقدمة**: تحليلات أعمق
- [ ] **واجهة ويب**: إدارة من المتصفح
- [ ] **تطبيق iOS**: دعم أجهزة Apple

### **تحسينات مخطط لها**:
- [ ] **الذكاء الاصطناعي**: اقتراحات ذكية للمهام
- [ ] **التكامل مع GPS**: تتبع المواقع
- [ ] **الكاميرا والصور**: توثيق بصري للعمل
- [ ] **التوقيعات الرقمية**: تأكيد إنجاز المهام

## 🤝 المساهمة

### **كيفية المساهمة**:
1. Fork المشروع
2. إنشاء branch جديد للميزة
3. تطبيق التغييرات
4. إضافة tests إذا لزم الأمر
5. إرسال Pull Request

### **معايير الكود**:
- اتباع Dart Style Guide
- إضافة تعليقات باللغة العربية
- كتابة tests للميزات الجديدة
- توثيق التغييرات

## 📞 الدعم والتواصل

### **للحصول على المساعدة**:
- **البريد الإلكتروني**: support@webak.com
- **الوثائق**: راجع هذا الملف
- **المشاكل**: استخدم GitHub Issues

### **التحديثات**:
- تحقق من الإصدارات الجديدة بانتظام
- اقرأ changelog للتحديثات
- احتفظ بنسخة احتياطية قبل التحديث

## 📄 الترخيص

هذا المشروع مرخص تحت [MIT License](LICENSE)

## 🙏 شكر وتقدير

- **فريق Flutter**: للإطار الرائع
- **مجتمع Dart**: للدعم والمساعدة
- **المساهمون**: لجهودهم في تطوير التطبيق

---

**تم تطوير هذا التطبيق بعناية لتوفير أفضل تجربة لإدارة المهام في البيئة العربية** 🚀

**آخر تحديث**: يناير 2025
**الإصدار**: 1.0.0
**حالة المشروع**: نشط ومدعوم
